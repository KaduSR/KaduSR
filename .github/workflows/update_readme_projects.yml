name: Update README with Recent Activity

on:
  schedule:
    # Roda a cada 4 horas
    - cron: "0 */4 * * *"
  workflow_dispatch:

jobs:
  update_readme:
    name: Update README with Recent Activity
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: DEBUG - Display README content
        run: |
          echo "--- Content of README.md as seen by the Action ---"
          cat README.md
          echo "--------------------------------------------------"

      - name: Update README with recent posts
        uses: gautamkrishnar/blog-post-workflow@v1
        with:
          readme_path: 'README.md'
          feed_list: "https://github.com/KaduSR.atom"
          comment_tag_name: "PROJECT-LIST"
          template: "- [$title]($url)"
          max_post_count: 5
          disable_sort: true
          commit_message: "chore: update recent activity"
